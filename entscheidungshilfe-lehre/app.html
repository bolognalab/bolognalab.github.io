<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Entscheidungshilfe Lehre: App</title>
    <meta charset="utf-8" />
    <meta http-equiv="content-language" content="de">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
    <link rel="icon" type="image/x-icon" href="images/favicon.png">
    <link rel="stylesheet" href="assets/css/eb.css" />
    <link rel="stylesheet" href="assets/css/eb_app.css" />
    <script src="assets/js/jquery.min.js"></script>
    <script async src="https://tally.so/widgets/embed.js"></script>
    <style>
        body {
            background: var(--backgroundLightBlue);
            background: linear-gradient(90deg, rgba(18, 161, 154, 0.5) 0%, rgba(15, 113, 184, 0.5) 100%)
        }
        .qCont {
            background: none;
        }
        #credits {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translate(-50%,0)
        }
        #DIV_TEXT_welcome {
            background: white;
        }
        #selectAtLeastOne {
            background: rgba(18, 161, 154, 0);
            transition: all 2s ease;
            border-radius: 0.5em;
            padding: 0.2em;
        }
    </style>
    <style>
        #credits {
            opacity: 0.8
        }
        #credits > * {
            margin: auto;
            /* background-color: rgba(15, 113, 184, 0.2); */
            color: var(--networkBlue)
        }
        #credits .accordion.active + .panel {
            padding-bottom: 2em;
        }
        #credits .panel > h3 {
            margin-left: 2em;
        }
        #credits .panel > p {
            margin: 0 2.5em 0.5em;
        }
        #credits h2, #credits h3 {
            color: var(--networkBlue)
        }
        #credits h2.active {
            color: var(--networkBlue) !important;
            padding-bottom: 0;
        }
        #credits h3 {
            margin-top: 2em;
        }
        .accordion::before {
            color: var(--networkBlue)
        }
    </style>
</head>
<body class="is-preload" lang="de">
    
    <div id="questions" class="qCont">
        <div id="DIV_TEXT_welcome" class="qDiv">
            <p id="whichPart">:)</p>
            <h2 style="text-align: center"><img id="welcomeLogo" src="images/NHL_logo.svg" /></h2>
            <h1>Entscheidungshilfe Online und Hybride Lehre</h1>
            <p>Vor Ort, online, oder hybrid? Entdecken Sie, welches Format für Sie am besten passt! In den nächsten Schritten werden Sie aufgefordert, sich Gedanken über die folgenden Aspekten Ihrer Lehrveranstaltung zu machen:</p>
            <ul>
                <li>Wie wichtig ist <b>physische Präsenz und Synchronität</b>, damit jemand erfolgreich in Ihrem Kurs sein kann?</li>
                <li>Welche Anforderungen hat Ihre studentische Kohorte an <b>Strukturierung</b> und <b>Flexibilität?</b></li>
                <li>Inwieweit passt virtuelle Lehre zu Ihrem <b>Lehrstil</b> und zu den <b>Bedingungen Ihrer Hochschule?</b></li>
            </ul>
            <p style="margin-bottom: 1.5em">Als Ergebnis erhalten Sie - neben einem <b>empfohlenen Lehrformat</b> - Tipps für die <b>synchrone</b> und <b>asynchrone</b> Planung Ihres Kurses. Es ist okay, wenn Sie für die Beantwortung mancher Fragen nicht sicher sind! Es gibt immer die Möglichkeit, zurückzugehen und andere Antwortmöglichkeiten auszuprobieren.</p>
            <div class="buttonContainer start"><button id="start" class="submitButton" onclick="start()" style="display:none">Beginnen</button></div>
            <div id="useCase2Container"><p>oder...</p><a href='select.html'>Ich habe mich schon für ein Lehrformat entschieden und suche dafür didaktische und technische Tipps</a></div>
        </div>

        <div id="DIV_TEXT_group1" class="qDiv upcoming" style="display:none">
            <h2 style="text-align:center"><img src="images/descImg/se-praes.jpg" style="width: 300px"/></h2>
            <h2 class="sectionTitle">Teil 1: Art und Ziele der Lehrveranstaltung</h2>
            <p>In den ersten Fragen geht es um die Art des Kurses und der Lernziele, die die Studierenden am Ende des Semesters beherrschen sollen – diese grundlegenden Ziele liegen nämlich im Kern der Entscheidung über das Lehrformat.</p>
        </div>
        <div id="DIV_TEXT_group2" class="qDiv upcoming" style="display:none">
            <h2 style="text-align:center"><img src="images/descImg/se-hyb.jpg" style="width: 300px"/></h2>
            <h2 class="sectionTitle">Teil 2: Studentische Bedingungen und Teilnahme</h2>
            <p>Die folgenden Fragen sollen Ihnen helfen, die <b>Flexibilitäts- und Strukturierungsbedürfnisse der Studierenden</b> in Ihrer Lehrveranstaltung zu verstehen.</p>
            <p>Bei der Kursplanungsphase können Sie wahrscheinlich nicht alle Fragen zu Ihren zukünftigen Studierenden mit Sicherheit beantworten - das ist in Ordnung!</p>
            <p>Sie können die Fragen auf der Grundlage <b>vorheriger oder "typischer" studentischer Kohorten</b> (z.B. Semester im Studium, Berufsfeld) beantworten oder indem Sie reflektieren, auf welche möglichen Szenarien Sie vorbereitet sein wollen, um eine <b>möglichst barrierearme Teilnahme</b> zu ermöglichen.</p>
        </div>
        <div id="DIV_TEXT_group3" class="qDiv upcoming" style="display:none">
            <h2 style="text-align:center"><img src="images/descImg/se-onl.jpg" style="width: 300px"/></h2>
            <h2 class="sectionTitle">Teil 3: Teilnahme und Bedingungen der Lehrperson(en)</h2>
            <p>Kurz vor dem Ende des Entscheidungsprozesses kommen wir jetzt zum Thema Lehrende: Ebenso wie die Studierenden haben auch die Lehrenden individuelle Bedürfnisse in Bezug auf die Flexibilität und das Lehrformat!</p>
        </div>
        <div id="DIV_TEXT_group4" class="qDiv upcoming" style="display:none">
            <h2 style="text-align:center"><img src="images/descImg/vl-ringpraes.jpg" style="width: 300px"/></h2>
            <h2 class="sectionTitle">Teil 4: Zusätzliche Faktoren</h2>
            <p>Wir sind fast fertig! In den letzten paar Fragen prüfen wir, ob für Ihren Kurs bestimmte „Sonderbedingungen“ gelten.</p>
        </div>
        <div id="DIV_TEXT_labore" class="qDiv upcoming" style="display:none">
            <h2><em>Coming Soon: Hybride und virtuelle Laborkonzepte</em></h2>
            <p>Wir sind noch dabei, didaktische Empfehlungen für verschiedene Online- und hybride Laborveranstaltungen zu entwickeln! Bis dann schauen Sie sich gern die folgenden Beispiele von hybriden und virtuellen Laborkursen als Inspiration:</p>
            <ul>
                <li><a href="https://www.bht-berlin.de/4500" aria-label="vituelle Labore an der BHT">Virtuelle Labore an der BHT</a>, darunter <a href="https://projekt.bht-berlin.de/mint-vr-labs" aria-label="MINT-VR-Labs">MINT-VR-labs</a></li>
                <li><a href="https://leko.service.th-nuernberg.de/portal-digitale-lehre/anleitungen/hybride-laborpraktika-mit-mobilem-setup/" aria-label="TH Nürnberg: Hybride Laborpraktika mit mobilem Setup">TH Nürnberg: Hybride Laborpraktika mit mobilem Setup</a></li>
                <li><a href="https://www.hs.mh.tum.de/exercisebiology/lehre-thesis/ilab/" aria-label="TU München: Projekt iLab (Laborvideos)">TU München: Projekt <em>iLab</em> (Laborvideos)</a></li>
            </ul>
        </div>
        <div id="progressBar" class="progressBar"></div>
        <div class="inner" id="credits"></div>
    </div>
    <div id="beta" style="position: absolute; left: 0; top:0; background: rgba(70, 70, 70, 0.7); padding: 0.5em 1.5em; color: white; font-size: 0.8em; box-shadow: rgba(0, 0, 0, 0.04) 0px 3px 5px;">
       Beta-Version
    </div>
<script src="assets/js/jquery.csv.js"></script>
<script src="assets/js/questionFlow.js"></script>
<script>   
    const qCont = document.getElementById("questions")
    const maxShownAnswers = 4


    var all_data, questionInfo, all_scenarios, all_special_cases, topResults
    var testing = false
    var activeQ, activeA
    var nextQuestionIdx = 1
    var scenarios = {}
    var answers = {}
    var activeScenarios = {}
    var recent = []

    const questionOrder = [ 
        "TEXT_welcome",
        // 'TEXT_intro',
        'TEXT_group1',
        'artLV', 
        'TEXT_labore',
        // 'anzahlVL', 
        // 'anzahlSE',
        'interactions',
        'leistungen',
        'TEXT_group2',
        "niveauSt",
        "limZPSt",
        'nieSync',
        'niePr',
        "TEXT_group3",
        'regAbw',
        "onlBereit", 
        "TEXT_group4",
        "situations",
        'gaeste', 
    ]   
    var leistungenQuestion, situationsQuestion, interactionsQuestion

    // make progress bar
    const progressBar = document.getElementById("progressBar")
    for (i=0; i<questionOrder.length+1; i++){
        let bit = document.createElement("div"); progressBar.append(bit)
        bit.classList.add("bit")
        bit.setAttribute("id", "prog_"+ i)
    }
    const whichPart = document.querySelector("#whichPart")
    var pButton, nButton, sButton
    
    function loadQuestions(){
    // Previous Question, Next Question, Submit buttons (will be moved around)
        pButton = document.createElement("button"); document.body.append(pButton)
        pButton.classList.add("prevButton", "asIcon")
        pButton.setAttribute("id", "prevButton")
        // pButton.innerHTML = "Vorherige Frage"
        pButton.addEventListener("click", function(){
            undoAnswer()
        })
        pButton.style.display = "none"

        nButton = document.createElement("button"); document.body.append(nButton)
        nButton.classList.add("nextButton", "asIcon")
        nButton.setAttribute("id", "nextButton")
        // nButton.innerHTML = "Nächste Frage"
        nButton.addEventListener("click", function(){
            if (activeQ.includes("TEXT_")){
                proceedFromQuestion()
            } else {
                if (activeQ != "situations" && activeQ != "leistungen"){
                    if (activeQ == "interactions"){
                        submitSingleAnswer(qq="intSync", aa=answers["intSync"], proceed=false, verbose=testing)
                        // this doesn't do anything but proceed
                        submitSingleAnswer(qq = "interactions", aa="inputs", proceed=true, resetRecent=false, verbose=testing)
                    } else {
                        submitSingleAnswer(verbose=testing)
                    }
                } else {
                    answersToSubmit = {}
                    Object.keys(questionInfo[activeQ]["antworten"]).forEach((a, idx, array)=>{
                        answersToSubmit[a] = answers[a]
                        if (idx === array.length -1 ){
                            if (activeQ == "leistungen"){
                                // special case: if none of the tasks are selected, set keineLeistungen=ja in order to apply some effects
                                answersToSubmit["keineLeistungen"] = answers["keineLeistungen"]
                            }
                            submitMultipleAnswers(answersToSubmit, activeQ, verbose=testing, moveOn=true)
                        }
                    })
                }
            }


        })
        nButton.style.display = "none"

        sButton = document.createElement("button"); document.body.append(sButton)
        sButton.classList.add("submitButton")
        sButton.setAttribute("id", "submitButton")
        sButton.innerHTML = "Absenden"
        sButton.addEventListener("click", function(){
            submitSingleAnswer(verbose=testing)
            sessionStorage.setItem("answers", JSON.stringify(answers))
                        if (testing){
                if (confirm("Zum Ergebnis?") == true){
                    getResult(activeScenarios)
                }
            } else {
                getResult(activeScenarios)
            }
        })
        sButton.style.display = "none"

        $.getJSON("data.json", function(json){
            all_data = json
            questionInfo = json['questions']
            all_special_cases = json['special']
            situationsQuestion = questionInfo["situations"]
            leistungenQuestion = questionInfo["leistungen"]
            interactionsQuestion = questionInfo["interactions"]
            all_scenarios = json['scenarios']
            Object.entries(all_scenarios).forEach((s)=>{
                activeScenarios[s[0]] = 0
            })
            document.querySelector("#start").style.display = "block"
            // start()
        })
    }
    loadQuestions()
</script>
<script>
    $("#credits").load("credits.html", ()=>{
        // Accordion-menu for credits
        var acc = document.getElementsByClassName("accordion");
        var i;
        for (i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var panel = this.nextElementSibling;
            if (panel.style.maxHeight) {
            panel.style.maxHeight = null;
            } else {
            panel.style.maxHeight = panel.scrollHeight + "px";
            } 
        });
        }
        })
  </script>
</body>
</html>
